{"title":"localdata의 중부원점좌표(EPSG:5174)를 위/경도로 대량 변환하는 python 코드","updated":"2026-01-23","content":"<article class=\"page\"><h1 id=\"page-title\">localdata의 중부원점좌표(EPSG:5174)를 위/경도로 대량 변환하는 python 코드</h1><div class=\"text-right\">Last updated: 2026-01-23</div><div class=\"markdown-body\"><h2>상황</h2>\n<p><a href=\"https://www.localdata.go.kr/\">localdata</a>에 활용할만한 좋은 자료는 많은데 좌표가 중부원점좌표임, 다른 자료와 매칭할 필요가 있어 좌표를 위/경도 좌표로 변환이 필요한 상황</p>\n<h2>조치</h2>\n<p>대량으로 위/경도 변환할 필요가 있어 AI 도움을 받아 python 코드를 작성함, 아래는 외부 의존성 설치와 변환 코드</p>\n<pre><code class=\"hljs language-Bash\">pip install pandas\n</code></pre>\n<pre><code class=\"hljs language-Python\"><span class=\"hljs-keyword\">from</span> pyproj <span class=\"hljs-keyword\">import</span> Transformer\n<span class=\"hljs-keyword\">import</span> pandas <span class=\"hljs-keyword\">as</span> pd\n<span class=\"hljs-keyword\">import</span> os\n\n<span class=\"hljs-comment\"># 초기화</span>\nsrc_tm = <span class=\"hljs-string\">&quot;epsg:5174&quot;</span>\ntar_tm = <span class=\"hljs-string\">&quot;epsg:4326&quot;</span>    <span class=\"hljs-comment\"># 위경도 좌표</span>\ntransformer = Transformer.from_crs(src_tm, tar_tm, always_xy=<span class=\"hljs-literal\">True</span>)  <span class=\"hljs-comment\"># always_xy=True --&gt; 경도, 위도 순서로 처리</span>\n\n<span class=\"hljs-comment\"># 소스 리드</span>\nsource = pd.read_csv(<span class=\"hljs-string\">&quot;source.csv&quot;</span>)\n\n<span class=\"hljs-comment\"># 결과 파일 설정</span>\noutput = <span class=\"hljs-string\">&quot;output.csv&quot;</span>\n<span class=\"hljs-keyword\">if</span> <span class=\"hljs-keyword\">not</span> os.path.exists(output):\n    headers = pd.DataFrame([[<span class=\"hljs-string\">&quot;ID&quot;</span>, <span class=\"hljs-string\">&quot;LON&quot;</span>, <span class=\"hljs-string\">&quot;LAT&quot;</span>]])\n    headers.to_csv(output, mode=<span class=\"hljs-string\">&quot;w&quot;</span>, header=<span class=\"hljs-literal\">False</span>, index=<span class=\"hljs-literal\">False</span>, encoding=<span class=\"hljs-string\">&quot;utf-8&quot;</span>)\n\n<span class=\"hljs-keyword\">def</span> <span class=\"hljs-title function_\">is_number</span>(<span class=\"hljs-params\">v</span>):\n    <span class=\"hljs-keyword\">try</span>:\n        <span class=\"hljs-built_in\">float</span>(v)\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">True</span>\n    <span class=\"hljs-keyword\">except</span>:\n        <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">False</span>\n\n<span class=\"hljs-comment\"># 위/경도 구해서 결과 파일에 삽입</span>\ntotal = <span class=\"hljs-built_in\">len</span>(source)\n<span class=\"hljs-keyword\">for</span> idx, row <span class=\"hljs-keyword\">in</span> source.iterrows():\n    x = row[<span class=\"hljs-string\">&quot;X&quot;</span>]\n    y = row[<span class=\"hljs-string\">&quot;Y&quot;</span>]\n\n    <span class=\"hljs-keyword\">if</span> is_number(x) <span class=\"hljs-keyword\">and</span> is_number(y):\n        lon, lat = transformer.transform(x, y)\n    <span class=\"hljs-keyword\">else</span>:\n        lon, lat = <span class=\"hljs-string\">&quot;&quot;</span>, <span class=\"hljs-string\">&quot;&quot;</span>\n\n    data = pd.DataFrame([[row[<span class=\"hljs-string\">&quot;ID&quot;</span>], lon, lat]])\n    data.to_csv(output, mode=<span class=\"hljs-string\">&quot;a&quot;</span>, header=<span class=\"hljs-literal\">False</span>, index=<span class=\"hljs-literal\">False</span>, encoding=<span class=\"hljs-string\">&quot;utf-8&quot;</span>)\n    <span class=\"hljs-built_in\">print</span>(<span class=\"hljs-string\">f&quot;<span class=\"hljs-subst\">{idx+<span class=\"hljs-number\">1</span>}</span>/<span class=\"hljs-subst\">{total}</span> 완료&quot;</span>)\n\n    <span class=\"hljs-comment\"># if idx &gt;= 10: break</span>\n</code></pre>\n</div></article>"}
