---
layout: "page"
title: "SSH 터널링을 사용하여 외부 PC 에 원격 접속하기"
updated: "2025-04-01"
---

## SSH 터널링으로 RDP 접속 우회

기본적으로 윈도우즈 OS 가 설치된 PC 로 RDP 원격 접속을 할 수 있음, 그러나 보안 등 이유로 막아놓는 경우가 종종 있음

SSH 터널링으로 우회 가능한 경우가 있음, SSH 터널링은 [포털 사이트](https://www.google.com/search?q=ssh+%ED%84%B0%EB%84%90%EB%A7%81&sourceid=chrome&ie=UTF-8)에서 검색하면 개념 설명을 해놓은 많은 웹페이지를 찾을 수 있음


로컬 PC 에서 직접 리모트 PC 로 접근이 안될 때, 아래처럼 SSH 서버를 경유하여 접속하는 방식

> 로컬 PC --------> SSH 서버 ---------> 리모트 PC

SSH 서버가 로컬 PC 에게 리모트 PC 로 접근할 수 있는 경로를 알려줌 (그래서 터널링이라는 이름이 붙은 것 같음)

또한 굳이 SSH 서버를 따로 구할 필요없이, 리모트 PC 안에 SSH 서버가 작동하도록 하면, 외견상으로는 로컬 PC 에서 리모트 PC 로 바로 접속하는 것처럼 보임

## 리모트 PC 세팅

아래와 같이 리모트 PC 기능 설정

> - "시작" -> "설정" -> "원격" 검색 -> "원격 데스크톱" 이 "켬" 으로 설정
> - 리모트 PC 에 로그인 암호 설정

다음으로 [MS 도움말](https://learn.microsoft.com/ko-kr/windows-server/administration/openssh/openssh_install_firstuse?tabs=gui)에서 안내하는 대로 OpenSSH 구성 요소를 설치, 대략 아래와 같음

> - "시작" -> "설정" -> "시스템" -> "선택적 기능" 선택
> - "선택적 기능 추가" 옆 "기능 보기" 버튼 클릭하여 "OpenSSH 서버" 검색
> - 검색 결과가 나온다면 설치가 안되어있다는 의미므로, OpenSSH 서버 체크하고 "다음" 버튼을 눌러 설치 (생각보다 오래 걸림)
> - 설치 완료 후 재부팅
> - 재부팅 후, "시작" -> "services.msc" 검색하여 실행
> - 세부 서비스 창에서 "OpenSSH SSH Server" 항목 더블 클릭 -> "시작 유형" 을 "자동"으로 변경 -> "시작" 버튼 클릭 -> "확인" 

다음으로 아래와 같이 방화벽 설정

> - "시작" -> "wf.msc" 검색하여 실행
> - 왼쪽 메뉴에서 "인바운드 규칙" -> 오른쪽 메뉴에서 "새 규칙"
> - "포트" -> "다음" -> "TCP", "특정로컬포트", 입력창에 "22" 입력 -> "다음" -> "연결 허용" -> "다음" -> "다음" -> 이름에 "Port 22" 입력 -> "마침"


## 로컬 PC 세팅

> - "시작" -> "cmd" 검색하여 명령 프롬프트 실행
> - 새로운 창 열리면... 
> - ssh -L 8888:127.0.0.1:3389 [리모트 PC 사용자명]@[리모트 PC 원격 주소]
> - 비밀번호 입력 -> 접속 성공 시 [리모트 PC 사용자명] 프롬프트가 뜸...


이 화면을 그대로 둔 상태에서... (화면을 닫으면 안됨)


> - "시작" -> "원격 데스크톱 연결" 검색하여 실행
> - 원격 데스크톱 연결 화면이 뜨면...
> - 컴퓨터에 "127.0.0.1:8888" 입력 -> 사용자 이름까지 넣어서 원격접속 실행
